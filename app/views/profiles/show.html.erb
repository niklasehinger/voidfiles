<section class="max-w-3xl mx-auto pt-16 pb-8 px-4 sm:px-6 lg:px-8">
  <div class="bg-white rounded-2xl shadow-2xl border border-gray-100 p-8">
    <h1 class="text-3xl font-extrabold text-voidfiles-navy mb-2 text-center">
      <%= t('profile.title', default: 'Dein Profil') %>
    </h1>
    <p class="text-center text-gray-500 mb-6">
      <% user_name = (@user.respond_to?(:name) ? @user.name : @user[:name]) %>
      <%= t('profile.welcome', default: 'Willkommen, %{name}!', name: user_name.presence || '-') %>
    </p>
    <%#= debug @user %>
    
    <!-- Recent Uploads Section -->
    <% if @prproj_uploads.any? %>
      <div class="mt-8">
        <h2 class="text-xl font-bold text-voidfiles-navy mb-4"><%= t('dashboard.recent_uploads', default: 'Deine Projekte') %></h2>
        <div class="bg-gray-50 rounded-xl p-4">
          <ul class="divide-y divide-gray-200">
            <% @prproj_uploads.each do |upload| %>
              <li class="py-3 flex items-center justify-between">
                <div>
                  <p class="font-semibold text-voidfiles-navy"><%= upload.title %></p>
                  <p class="text-sm text-gray-500"><%= l(upload.created_at, format: :long) %></p>
                </div>
                <div class="flex items-center gap-3">
                  <%= link_to t('dashboard.view', default: 'Ansehen'), prproj_upload_path(upload, locale: I18n.locale), class: "text-voidfiles-blue hover:underline" %>
                  <%= button_to prproj_upload_path(upload, locale: I18n.locale), method: :delete, form: { onsubmit: "return confirm('Projekt wirklich l√∂schen?')" }, class: "text-red-500 hover:text-red-700 text-sm" do %>
                    üóëÔ∏è
                  <% end %>
                </div>
              </li>
            <% end %>
          </ul>
        </div>
      </div>
    <% else %>
      <div class="text-center text-gray-400 italic py-8">
        <%= t('profile.analyses_placeholder', default: 'Du hast noch keine Projekte hochgeladen.') %>
      </div>
    <% end %>
    
    <div class="mt-8 flex justify-center">
      <%= button_to t('profile.logout', default: 'Abmelden'), destroy_user_session_path(locale: I18n.locale), method: :delete, class: 'btn-danger text-base font-semibold' %>
    </div>
  </div>
</section>
